{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Trang Tran\\\\Desktop\\\\Project M\\\\BUAG\\\\frontend\\\\src\\\\features\\\\container\\\\admin\\\\Role\\\\Role.js\",\n    _s = $RefreshSig$();\n\nimport { Spin, Table } from 'antd';\nimport React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { userroleData } from '../header/userroleSlice';\nimport { roleData, updaterole } from './roleSlice';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Role() {\n  _s();\n\n  const columns = [{\n    title: 'quyền',\n    dataIndex: 'name'\n  }, {\n    title: 'Tình trạng',\n    dataIndex: 'status'\n  }, {\n    title: 'Số lượng',\n    dataIndex: 'amount'\n  }];\n  const roles = useSelector(state => state.roles.role.data);\n  const loading = useSelector(state => state.roles.loading);\n  const dispatch = useDispatch();\n\n  const actionResult = async () => {\n    await dispatch(roleData());\n  };\n\n  const actionUserrole = async () => {\n    await dispatch(userroleData());\n  };\n\n  useEffect(() => {\n    actionUserrole();\n  }, []);\n  const userrole = useSelector(state => state.userroles.userrole.data);\n\n  const countRole = id => {\n    var admin = [];\n    var quanlytintuc = [];\n    var quanlybinhluan = [];\n    var quanlytour = [];\n    var bientapvien = [];\n    var nguoidung = [];\n\n    for (let i = 0; i < userrole.length; i++) {\n      if (userrole[i].roleId === 1) {\n        admin.push(userrole[i]);\n      }\n\n      if (userrole[i].roleId === 2) {\n        quanlytintuc.push(userrole[i]);\n      }\n\n      if (userrole[i].roleId === 3) {\n        quanlybinhluan.push(userrole[i]);\n      }\n\n      if (userrole[i].roleId === 4) {\n        quanlytour.push(userrole[i]);\n      }\n\n      if (userrole[i].roleId === 5) {\n        bientapvien.push(userrole[i]);\n      }\n\n      if (userrole[i].roleId === 6) {\n        nguoidung.push(userrole[i]);\n      }\n    }\n\n    switch (id) {\n      case 1:\n        return admin.length;\n        break;\n\n      case 2:\n        return quanlytintuc.length;\n        break;\n\n      case 3:\n        return quanlybinhluan.length;\n        break;\n\n      case 4:\n        return quanlytour.length;\n        break;\n\n      case 5:\n        return bientapvien.length;\n        break;\n\n      case 6:\n        return nguoidung.length;\n        break;\n    }\n  };\n\n  const handleStatus = (e, id) => {\n    if (e === 1) {\n      dispatch(updaterole({\n        status: 0,\n        idsua: id\n      }));\n    } else {\n      dispatch(updaterole({\n        status: 1,\n        idsua: id\n      }));\n    }\n\n    setTimeout(() => {\n      actionResult();\n    }, 500);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"admin\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"heading\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Ph\\xE2n quy\\u1EC1n\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"hr\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"content\",\n      children: loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"spin\",\n        children: /*#__PURE__*/_jsxDEV(Spin, {\n          className: \"mt-5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 50\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 28\n      }, this) : /*#__PURE__*/_jsxDEV(Table, {\n        columns: columns,\n        dataSource: roles.map((ok, index) => ({\n          key: index + 1,\n          name: /*#__PURE__*/_jsxDEV(\"span\", {\n            children: ok.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 35\n          }, this),\n          status: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"action\",\n            children: ok.status === 1 ? /*#__PURE__*/_jsxDEV(\"span\", {\n              onClick: () => {\n                handleStatus(ok.status, ok.id);\n              },\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"far fa-thumbs-up text-primary\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 107,\n                columnNumber: 137\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 80\n            }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n              onClick: () => handleStatus(ok.status, ok.id),\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"far fa-thumbs-down \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 107,\n                columnNumber: 249\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 196\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 37\n          }, this),\n          amount: /*#__PURE__*/_jsxDEV(\"span\", {\n            children: /*#__PURE__*/_jsxDEV(\"b\", {\n              children: userrole ? countRole(ok.id) : \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 43\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 37\n          }, this)\n        }))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 95,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Role, \"9hwbYo9+zppELPG4hhs4mkgCwmo=\", false, function () {\n  return [useSelector, useSelector, useDispatch, useSelector];\n});\n\n_c = Role;\nRole.propTypes = {};\nexport default Role;\n\nvar _c;\n\n$RefreshReg$(_c, \"Role\");","map":{"version":3,"sources":["C:/Users/Trang Tran/Desktop/Project M/BUAG/frontend/src/features/container/admin/Role/Role.js"],"names":["Spin","Table","React","useEffect","useDispatch","useSelector","userroleData","roleData","updaterole","Role","columns","title","dataIndex","roles","state","role","data","loading","dispatch","actionResult","actionUserrole","userrole","userroles","countRole","id","admin","quanlytintuc","quanlybinhluan","quanlytour","bientapvien","nguoidung","i","length","roleId","push","handleStatus","e","status","idsua","setTimeout","map","ok","index","key","name","amount","propTypes"],"mappings":"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","sourcesContent":["import { Spin, Table } from 'antd';\r\nimport React, { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { userroleData } from '../header/userroleSlice';\r\nimport { roleData, updaterole } from './roleSlice';\r\nfunction Role() {\r\n\r\n    const columns = [\r\n        {\r\n            title: 'quyền',\r\n            dataIndex: 'name',\r\n        },\r\n        {\r\n            title: 'Tình trạng',\r\n            dataIndex: 'status',\r\n        },\r\n\r\n        {\r\n            title: 'Số lượng',\r\n            dataIndex: 'amount',\r\n        },\r\n    ];\r\n    const roles = useSelector(state => state.roles.role.data);\r\n    const loading = useSelector(state => state.roles.loading)\r\n    const dispatch = useDispatch();\r\n\r\n    const actionResult = async () => { await dispatch(roleData()) }\r\n    const actionUserrole = async () => { await dispatch(userroleData()) }\r\n    useEffect(() => {\r\n        actionUserrole()\r\n    }, [])\r\n    const userrole = useSelector(state => state.userroles.userrole.data);\r\n\r\n    const countRole = (id) => {\r\n        var admin = [];\r\n        var quanlytintuc = [];\r\n        var quanlybinhluan = [];\r\n        var quanlytour = [];\r\n        var bientapvien = [];\r\n        var nguoidung = [];\r\n        for (let i = 0; i < userrole.length; i++) {\r\n            if (userrole[i].roleId === 1) {\r\n                admin.push(userrole[i]);\r\n            }\r\n            if (userrole[i].roleId === 2) {\r\n                quanlytintuc.push(userrole[i]);\r\n            }\r\n            if (userrole[i].roleId === 3) {\r\n                quanlybinhluan.push(userrole[i]);\r\n            }\r\n            if (userrole[i].roleId === 4) {\r\n                quanlytour.push(userrole[i]);\r\n            }\r\n            if (userrole[i].roleId === 5) {\r\n                bientapvien.push(userrole[i]);\r\n            }\r\n            if (userrole[i].roleId === 6) {\r\n                nguoidung.push(userrole[i]);\r\n            }\r\n        }\r\n        switch (id) {\r\n            case 1:\r\n                return admin.length;\r\n                break;\r\n            case 2:\r\n                return quanlytintuc.length;\r\n                break;\r\n            case 3:\r\n                return quanlybinhluan.length;\r\n                break;\r\n            case 4:\r\n                return quanlytour.length;\r\n                break;\r\n            case 5:\r\n                return bientapvien.length;\r\n                break;\r\n            case 6:\r\n                return nguoidung.length;\r\n                break;\r\n        }\r\n\r\n    }\r\n    const handleStatus = (e, id) => {\r\n        if (e === 1) {\r\n            dispatch(updaterole({ status: 0, idsua: id }))\r\n        } else {\r\n            dispatch(updaterole({ status: 1, idsua: id }))\r\n        }\r\n        setTimeout(() => {\r\n            actionResult();\r\n        }, 500);\r\n    }\r\n\r\n    return (\r\n        <div id=\"admin\">\r\n            <div className=\"heading\">\r\n                <h4>Phân quyền</h4>\r\n                <div className=\"hr\"></div>\r\n            </div>\r\n            <div className=\"content\">\r\n\r\n                {loading ? <div className=\"spin\"><Spin className=\"mt-5\" /></div> :\r\n                    <Table columns={columns} dataSource={roles.map((ok, index) => (\r\n                        {\r\n                            key: index + 1,\r\n                            name: <span>{ok.name}</span>,\r\n                            status: <div className=\"action\">{ok.status === 1 ? <span onClick={() => { handleStatus(ok.status, ok.id) }}><i className=\"far fa-thumbs-up text-primary\"></i></span> : <span onClick={() => handleStatus(ok.status, ok.id)}><i className=\"far fa-thumbs-down \"></i></span>}</div>,\r\n                            amount: <span><b>{userrole ? countRole(ok.id) : \"\"}</b></span>\r\n                        }))}\r\n                    />\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nRole.propTypes = {\r\n\r\n}\r\n\r\nexport default Role"]},"metadata":{},"sourceType":"module"}