{"ast":null,"code":"/**\r\n * Copyright 2017 Google Inc.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n'use strict';\n\nimport WindowController from './src/controllers/window-controller';\nimport SWController from './src/controllers/sw-controller';\nimport firebase from '@firebase/app';\nexport function registerMessaging(instance) {\n  var messagingName = 'messaging';\n\n  var factoryMethod = function (app) {\n    if (self && 'ServiceWorkerGlobalScope' in self) {\n      return new SWController(app);\n    } // Assume we are in the window context.\n\n\n    return new WindowController(app);\n  };\n\n  var namespaceExports = {\n    // no-inline\n    Messaging: WindowController\n  };\n  instance.INTERNAL.registerService(messagingName, factoryMethod, namespaceExports);\n}\nregisterMessaging(firebase);","map":{"version":3,"mappings":"AAAA;;;;;;;;;;;;;;;AAeA;;AAEA,OAAOA,gBAAP,MAA6B,qCAA7B;AACA,OAAOC,YAAP,MAAyB,iCAAzB;AACA,OAAOC,QAAP,MAAqB,eAArB;AAEA,OAAM,2BAA4BC,QAA5B,EAAoC;AACxC,MAAMC,aAAa,GAAG,WAAtB;;AACA,MAAMC,aAAa,GAAG,eAAG;AACvB,QAAIC,IAAI,IAAI,8BAA8BA,IAA1C,EAAgD;AAC9C,aAAO,IAAIL,YAAJ,CAAiBM,GAAjB,CAAP;AACD,KAHsB,CAKvB;;;AACA,WAAO,IAAIP,gBAAJ,CAAqBO,GAArB,CAAP;AACD,GAPD;;AASA,MAAMC,gBAAgB,GAAG;AACvB;AACAC,aAAS,EAAET;AAFY,GAAzB;AAKAG,UAAQ,CAACO,QAAT,CAAkBC,eAAlB,CACEP,aADF,EAEEC,aAFF,EAGEG,gBAHF;AAKD;AAEDI,iBAAiB,CAACV,QAAD,CAAjB","names":["WindowController","SWController","firebase","instance","messagingName","factoryMethod","self","app","namespaceExports","Messaging","INTERNAL","registerService","registerMessaging"],"sources":["../index.ts"],"sourcesContent":["/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n'use strict';\n\nimport WindowController from './src/controllers/window-controller';\nimport SWController from './src/controllers/sw-controller';\nimport firebase from '@firebase/app';\n\nexport function registerMessaging(instance) {\n  const messagingName = 'messaging';\n  const factoryMethod = app => {\n    if (self && 'ServiceWorkerGlobalScope' in self) {\n      return new SWController(app);\n    }\n\n    // Assume we are in the window context.\n    return new WindowController(app);\n  };\n\n  const namespaceExports = {\n    // no-inline\n    Messaging: WindowController\n  };\n\n  instance.INTERNAL.registerService(\n    messagingName,\n    factoryMethod,\n    namespaceExports\n  );\n}\n\nregisterMessaging(firebase);\n"]},"metadata":{},"sourceType":"module"}